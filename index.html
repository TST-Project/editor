<!DOCTYPE html>
<html lang="en">
<head>
<title>TST Editor</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<link rel="icon" type="image/png" href="favicon-32.png">
<link rel="stylesheet" href="../lib/css/tufte.css">
<link rel="stylesheet" href="lib/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="lib/codemirror/addon/hint/show-hint.css">
<link rel="stylesheet" href="lib/codemirror/addon/lint/lint.css">
<link rel="stylesheet" href="lib/vanillaSelectBox.css">

<link rel="stylesheet" href="../lib/css/tst.css">
<link rel="stylesheet" href="../lib/css/header.css">
<link rel="stylesheet" href="../lib/css/transcription.css">
<link rel="stylesheet" href="style.css">

<script src="lib/codemirror/lib/codemirror.js"></script>
<script src="lib/codemirror/addon/hint/show-hint.js"></script>
<script src="lib/codemirror/addon/hint/xml-hint.js"></script>
<script src="lib/codemirror/addon/lint/htmlhint.js"></script>
<script src="lib/codemirror/addon/lint/lint.js"></script>
<script src="lib/codemirror/addon/lint/xml-lint.js"></script>
<script src="lib/codemirror/mode/xml/xml.js"></script>
<script src="lib/codemirror/addon/display/placeholder.js"></script>
<script src="lib/cmwrapper.js"></script>

<script src="lib/vanillaSelectBox.js"></script>

<script src="../lib/js/hypher-nojquery.js"></script>
<script src="../lib/js/sa.js"></script>
<script src="../lib/js/ta.js"></script>
<script src="../lib/js/ta-Latn.js"></script>
<script src="../lib/js/sanscript.js"></script>
<script src="../lib/js/viewpos.js"></script>
<script src="../lib/js/transliterate.js"></script>

<script src="lib/localforage.min.js"></script>
<script src="lib/FileSaver.min.js"></script>

<script src="lib/he.js"></script>

<script src="https://unpkg.com/mirador@latest"></script>
<script src="../lib/js/tst.js"></script>
<script src="script.js"></script>
</head>

<body lang="en">
<div id="assets" style="position: absolute; visibility: hidden">
<svg id="trash" enable-background="new 0 0 32 32" height="32px" id="Layer_1" version="1.1" viewBox="0 0 32 32" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="trash"><path clip-rule="evenodd" d="M29.98,6.819c-0.096-1.57-1.387-2.816-2.98-2.816h-3v-1V3.001   c0-1.657-1.344-3-3-3H11c-1.657,0-3,1.343-3,3v0.001v1H5c-1.595,0-2.885,1.246-2.981,2.816H2v1.183v1c0,1.104,0.896,2,2,2l0,0v17   c0,2.209,1.791,4,4,4h16c2.209,0,4-1.791,4-4v-17l0,0c1.104,0,2-0.896,2-2v-1V6.819H29.98z M10,3.002c0-0.553,0.447-1,1-1h10   c0.553,0,1,0.447,1,1v1H10V3.002z M26,28.002c0,1.102-0.898,2-2,2H8c-1.103,0-2-0.898-2-2v-17h20V28.002z M28,8.001v1H4v-1V7.002   c0-0.553,0.447-1,1-1h22c0.553,0,1,0.447,1,1V8.001z" fill="#333333" fill-rule="evenodd"/><path clip-rule="evenodd" d="M9,28.006h2c0.553,0,1-0.447,1-1v-13c0-0.553-0.447-1-1-1H9   c-0.553,0-1,0.447-1,1v13C8,27.559,8.447,28.006,9,28.006z M9,14.005h2v13H9V14.005z" fill="#333333" fill-rule="evenodd"/><path clip-rule="evenodd" d="M15,28.006h2c0.553,0,1-0.447,1-1v-13c0-0.553-0.447-1-1-1h-2   c-0.553,0-1,0.447-1,1v13C14,27.559,14.447,28.006,15,28.006z M15,14.005h2v13h-2V14.005z" fill="#333333" fill-rule="evenodd"/><path clip-rule="evenodd" d="M21,28.006h2c0.553,0,1-0.447,1-1v-13c0-0.553-0.447-1-1-1h-2   c-0.553,0-1,0.447-1,1v13C20,27.559,20.447,28.006,21,28.006z M21,14.005h2v13h-2V14.005z" fill="#333333" fill-rule="evenodd"/></g></svg>
</div>
<div id="headerviewer" class="recordcontainer">
</div>

<div id="headereditor" class="recordcontainer">
<div class="record-fat">
<article>
<section>
    <div>
        <label for="hd_unitidcote">Shelfmark</label>
        <input autocomplete="off" type="text" id="hd_unitidcote" name="cote" data-select="teiHeader > fileDesc > sourceDesc > msDesc > msIdentifier > idno[type='cote']" required placeholder="Indien XX">
        <label for="hd_unitidanciennecote">Old shelfmark</label>
        <input autocomplete="off" type="text" id="hd_unitidanciennecote" name="cote" data-select="teiHeader > fileDesc > sourceDesc > msDesc > msIdentifier > idno[type='ancienne cote']" placeholder="Tamoul XX">
    </div>
    <div>
        <label for="hd_repository">Repository</label>
        <select required autocomplete="off" type="text" id="hd_repository" name="repository" data-select="teiHeader > fileDesc > sourceDesc > msDesc > msIdentifier > repository > orgName">
            <option value="Bibliothèque nationale de France. Département des Manuscrits" selected>Bibliothèque nationale de France. Département des Manuscrits</option>
            <option value="Staats- und UniversitätsBibliothek Hamburg Carl von Ossietzky">Staats- und UniversitätsBibliothek Hamburg Carl von Ossietzky</option>
            <option value="Bodleian Library, University of Oxford">Bodleian Library, University of Oxford</option>
            <option value="Cambridge University Library">Cambridge University Library</option>
        </select>
    </div>
    <div>
        <label for="hd_title">Manuscript Title</label>
        <textarea autocomplete="off" id="hd_title" name="title" data-select="teiHeader > fileDesc > titleStmt > title" data-schema="descriptive names" rows="1" required placeholder="title of manuscript"></textarea>
    </div>
    <div>
        <label for="hd_editionStmt_persName">Researcher name</label>
        <input autocomplete="name" type="text" id="hd_editionStmt_persName" name="editionStmt_persName" data-select="teiHeader > fileDesc > editionStmt > p > persName" required>
    </div>
    <div>
        <label for="hd_editionStmt_orgName">Researcher affiliation</label>
        <input autocomplete="organization" type="text" id="hd_editionStmt_orgName" name="editionStmt_orgName" data-select="teiHeader > fileDesc > editionStmt > p > orgName" required>
    </div>
    <div>
        <label for="hd_publisher">Publisher</label>
        <input autocomplete="off" type="text" id="hd_publisher" name="publisher" data-select="teiHeader > fileDesc > publicationStmt > publisher" value="TST Project" readonly>
        <label for="hd_publish_date">Publication date</label>
        <input autocomplete="off" type="text" id="hd_publish_date" name="publish_date" data-select="teiHeader > fileDesc > publicationStmt > date" value="2021" readonly>
    </div>
    <div>
        <label for="hd_facsimile">IIIF manifest</label>
        <input autocomplete="off" type="url" id="hd_facsimile" name="facsimile" data-select="facsimile > graphic" data-attr="url" data-tip="URL of the IIIF manifest for the digital images." placeholder="https://..." pattern="https://.*\.json">
    </div><div>
        <label for="hd_summary">Summary</label>
        <textarea autocomplete="off" rows="10" id="hd_summary" name="summary" data-select="teiHeader > fileDesc > sourceDesc > msDesc > msContents > summary" data-schema="descriptive names" placeholder="Summary description of the manuscript" required></textarea>
    </div>
    
    <h3>Physical description</h3>
    <div>
        <label for="hd_MS_type">Type</label>
        <select autocomplete="off" id="hd_MS_type" name="MS_type" data-select="teiHeader > fileDesc > sourceDesc > msDesc > msContents" data-attr="class" required>
            <option value="#STM" selected>single-text manuscript</option>
            <option value="#MTM">multi-text manuscript</option>
            <option value="#CM">composite manuscript</option>
            <option value="#MVM">multi-volume manuscript</option>
        </select>
        <label for="hd_format">Format</label>
        <select autocomplete="off" id="hd_format" name="format" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc" data-attr="form" required>
            <option value="codex">codex</option>
            <option value="plate">plate</option>
            <option value="pothi" selected>pothi</option>
            <option value="roll">roll</option>
        </select>
        <label for="hd_stringholes">Stringholes</label>
        <input autocomplete="off" type="number" step="1" min="0" id="hd_stringholes" name="stringholes" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > support > measure[unit='stringhole']" data-attr="quantity">
    </div>
    <div>
        <label for="hd_material">Material</label>
        <select autocomplete="off" id="hd_material" name="material" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc" data-attr="material" required>
            <option value="birch-bark">birch bark</option>
            <option value="copper">copper</option>
            <option value="palm-leaf" selected>palm leaf</option>
            <option value="palm-leaf palmyra">palm leaf (palmyra)</option>
            <option value="palm-leaf talipot">palm leaf (talipot)</option>
            <option value="paper">paper</option>
            <option value="paper handmade">paper (handmade)</option>
            <option value="paper industrial">paper (industrial)</option>
            <option value="paper laid">paper (laid)</option>
        </select>
        <textarea autocomplete="off" rows="2" name="support_p" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > support > p" data-schema="descriptive" placeholder="Further details about the support material"></textarea> 
    </div>
    <div>
        <label for="hd_extent_quantity" title="Give the full extent, including blank folios. In the description, you may be more specific.">Extent</label>
        <input autocomplete="off" type="number" step="1" min="1" id="hd_extent_quantity" name="extent_quantity" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > measure" data-attr="quantity"  data-tip="Give the full extent, including blank folios." required>
        <select autocomplete="off" name="extent_unit" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > measure" data-attr="unit" required>
            <option value="folio" selected>folios</option>
            <option value="page">pages</option>
        </select>
        <textarea autocomplete="off" rows="2" name="hd_extent" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > measure" data-schema="descriptive_restricted" placeholder="X guard folios, XX numbered folios, X blank folios"></textarea>
        
    </div>
    <div>
        <label title="Size of the object, including the cover.">Overall size</label>
        <div>
            <input autocomplete="off" type="text" step="any" name="object_unit" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='object']" data-attr="unit" hidden readonly value="mm">
            <label for="hd_object_width">Width</label>
            <input autocomplete="off" type="number" step="any" min="0" id="hd_object_width" name="width" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='object'] > width" data-attr="quantity" data-tip="Width of the object, including cover.">
            <label>mm</label>
        </div>
        <div>
            <label for="hd_object_height">Height</label>
            <input autocomplete="off" type="number" step="any" min="0" id="hd_object_height" name="height" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='object'] > height" data-attr="quantity" data-tip="Height of the object, including cover.">
            <label>mm</label>
        </div>
        <div>
            <label for="hd_object_depth">Depth</label>
            <input autocomplete="off" type="number" step="any" min="0" id="hd_object_depth" name="depth" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='object'] > depth" data-attr="quantity" data-tip="Depth of the object, including cover.">
            <label>mm</label>
        </div>
    </div>
    <div>
        <label title="Dimensions of a single leaf.">Leaf size</label>
        <div class="rowpar">
            <div class="subrow">
                <div>
                    <input autocomplete="off" type="text" id="hd_leaf_unit" name="unit" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='leaf']" data-attr="unit" hidden readonly value="mm">
                    <label for="hd_leaf_width">Width</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_leaf_width" name="width" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='leaf'] > width" data-attr="quantity">
                    <label>mm</label>
                </div>
                <div>
                    <label for="hd_leaf_width_min">Min</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_leaf_width_min" name="width" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='leaf'] > width" data-attr="min">
                    <label>mm</label>
                </div>
                <div>
                    <label for="hd_leaf_width_max">Max</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_leaf_width_max" name="width" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='leaf'] > width" data-attr="max">
                    <label>mm</label> 
                </div>
            </div>
            <div style="flex-basis: 100%; height:0"></div>
            <div class="subrow">
                <div>
                    <label for="hd_leaf_height">Height</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_leaf_height" name="height" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='leaf'] > height" data-attr="quantity">
                    <label>mm</label>
                </div>
                <div>
                    <label for="hd_leaf_height_min">Min</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_leaf_height_min" name="heightmin" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='leaf'] > height" data-attr="min">
                    <label>mm</label>
                </div>
                <div>
                    <label for="hd_leaf_height_max">Max</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_leaf_height_max" name="height" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='leaf'] > height" data-attr="max">
                    <label>mm</label> 
                </div>
            </div>
        </div>
    </div>
    <div>
        <span title="Dimensions of the written area of the leaf.">Written area</span>
        <div class="rowpar">
            <div class="subrow">
                <div>
                    <input autocomplete="off" type="text" id="hd_written_unit" name="unit" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='written']" data-attr="unit" hidden readonly value="mm">
                    <label for="hd_written_width">Width</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_written_width" name="width" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='written'] > width" data-attr="quantity">
                    <label>mm</label>
                </div>
                <div>
                    <label for="hd_written_width_min">Min</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_written_width_min" name="widthmin" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='written'] > width" data-attr="min">
                    <label>mm</label>
                </div>
                <div>
                    <label for="hd_written_width_max">Max</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_written_width_max" name="widthmax" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='written'] > width" data-attr="max">
                    <label>mm</label> 
                </div>
            </div>
            <div style="flex-basis: 100%; height:0"></div>
            <div class="subrow">
                <div>
                    <label for="hd_written_height">Height</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_written_height" name="height" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='written'] > height" data-attr="quantity">
                    <label>mm</label>
                </div>
                <div>
                    <label for="hd_written_height_min">Min</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_written_height_min" name="heightmin" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='written'] > height" data-attr="min">
                    <label>mm</label>
                </div>
                <div>
                    <label for="hd_written_height_max">Max</label>
                    <input autocomplete="off" type="number" step="any" min="0" id="hd_written_height_max" name="heightmax" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > extent > dimensions[type='written'] > height" data-attr="max">
                    <label>mm</label> 
                </div>
            </div>
        </div>
    </div>
    <div>
        <label for="hd_columns" title="One number, or two numbers separated by a space for a range.">Columns</label>
        <input autocomplete="off" type="text" id="hd_columns" name="columns" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > layoutDesc > layout" data-attr="columns" placeholder="1" pattern="\d+\s*\d*" size="8">
        <label for="hd_writtenLines" title="One number, or two numbers separated by a space for a range.">Lines per page (written)</label>
        <input autocomplete="off" type="text" id="hd_writtenLines" name="writtenLines" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > layoutDesc > layout" data-attr="writtenLines" placeholder="XX or XX XX" pattern="\d+\s*\d*" size="8"> 
        <label for="hd_ruledLines" title="One number, or two numbers separated by a space for a range.">Lines per page (ruled)</label>
        <input autocomplete="off" type="text" id="hd_ruledLines" name="ruledLines" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > layoutDesc > layout" data-attr="ruledLines" placeholder="XX or XX XX" pattern="\d+\s*\d*" size="8"> 
    </div>
    <div>
        <label for="hd_layout_style">Style</label>
        <select autocomplete="off" id="hd_layout_style" name="style" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > layoutDesc > layout" data-attr="style">
            <option value="" selected></option>
            <option value="tripāṭha">Tripāṭha</option>
            <option value="pañcpāṭha">Pañcapāṭha</option>
        </select>
        <label for="hd_streams" title="Number of textual streams per page">Streams</label>
        <input autocomplete="off" type="text" id="hd_streams" name="streams" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > layoutDesc > layout" data-attr="streams" placeholder="1" pattern="\d+\s*\d*" size="8" data-tip="Number of textual streams per page. For example, a tripāṭha manuscript, with mūla and commentary, has two streams.">
    </div>
    <div>
        <label for="hd_condition">Condition</label>
        <textarea autocomplete="off" rows="2" id="hd_condition" name="condition" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > condition" data-schema="descriptive" placeholder="Very good state of preservation, in spite of bore holes caused by insects."></textarea>
    </div>
    <div>
        <label for="hd_binding">Binding</label>
        <textarea autocomplete="off" rows="2" id="hd_binding" name="binding" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > bindingDesc > binding > p" data-schema="descriptive" placeholder="Description of binding, cover, etc."></textarea>
    </div>
    
    <h4>Foliation (Codicological units)</h4>
    <div class="multiple" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > objectDesc > supportDesc > foliation">
        <div class="multi-item">
            <div>
                <label title="A unique identifier. No spaces.">Unit ID</label>
                <input autocomplete="off" type="text" name="foliation_n" data-subattr="n" placeholder="U1" pattern="[^\s]+" data-tip="A unique identifier. No spaces."></input>
            </div>
            <div>
            <textarea autocomplete="off" rows="4" name="foliation" data-subselect=":scope" data-schema="descriptive" placeholder="E.g., Tamil letter-numerals, left margin."></textarea>
            </div>
        </div>
    </div>

    <h4>Scribal hand</h4>
    <div class="multiple" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > handDesc > handNote">
        <div class="multi-item">
            <div>
                <label title="As defined in the 'Foliation' section.">Codicological unit(s)</label>
                <select autocomplete="off" name="hand_foliation_n" data-subattr="n" data-from="foliation_n" class="multiselect" multiple></select>
                <!--input type="text" data-subattr="n" placeholder="U1 U2"-->
                <label>Scope</label>
                <select autocomplete="off" name="handNote_scope" data-subattr="scope"> 
                    <option value="" selected disabled></option>
                    <option value="sole">sole</option>
                    <option value="major">major</option>
                    <option value="minor">minor</option>
                </select>
                <label>Scribe</label>
                <select autocomplete="off" name="handNote_scribeRef" data-subattr="scribeRef">
                    <option value="" selected></option>
                    <option value="#EdouardAriel">Edouard Ariel</option>
                    <option value="#ArielTitleScribe">Ariel's title scribe</option>
                    <option value="#UmraosinghShergil">Umraosingh Sher-Gil</option>
                </select>
            </div>
            <div>
                <label>Script</label>
                <select autocomplete="off" name="handNote_script" class="multiselect" data-subattr="script" multiple>
                    <option value="bengali">Bengali</option>
                    <option value="devanagari">Devanagari</option>
                    <option value="grantha">Grantha</option>
                    <option value="latin">Latin</option>
                    <option value="malayalam">Malayalam</option>
                    <option value="nandinagari">Nandinagari</option>
                    <option value="telugu">Telugu</option>
                    <option value="tamil">Tamil</option>
                </select>
                <label>Features</label>
                <select autocomplete="off" name="handNote_scriptRef" class="multiselect" data-subattr="scriptRef" multiple>
                    <optgroup label="Tamil">
                        <option value="#tamilPulliNone">no puḷḷi</option>
                        <option value="#tamilPulliSporadic">sporadic puḷḷi</option>
                        <option value="#tamilPulliRegular">regular puḷḷi</option>
                        <option value="#tamilRa">closed kāl</option>
                        <option value="#tamilOE">long ō/ē (double-curled kompu)</option>
                        <option value="#tamilRRa">modern ṟa</option>
                    </optgroup>
                    <optgroup label="Devanagari">
                        <option value="#prsthamatra">pṛṣṭhamātrā</option>
                        <option value="#vaba">no distinct ba</option>
                        <option value="#sthascha">stha written as scha</option>
                    </optgroup>
                    <optgroup label="Bengali">
                        <option value="#bengaliRaBarBelow">ra with bar below</option>
                        <option value="#bengaliRaCrossbar">ra with cross-bar</option>
                        <option value="#bengaliRa">modern ra</option>
                        <option value="#bengaliYa">modern ya</option>
                    </optgroup>
                    <optgroup label="Telugu">
                        <option value="#valapalagilaka">valapalagilaka</option>
                    </optgroup>
                    <optgroup label="Malayalam">
                        <option value="#dotreph">dot reph</option>
                    </optgroup>
                </select>
                <label>Medium</label>
                <select autocomplete="off" name="handNote_medium" class="multiselect" data-subattr="medium" multiple>
                    <option value="ink">ink</option>
                    <optgroup label="colour">
                        <option value="black">black</option>
                        <option value="brown">brown</option>
                        <option value="blue">blue</option>
                        <option value="red">red</option>
                    </optgroup>
                    <option value="incised">incised</option>
                    <option value="pencil">pencil</option>
                </select>
            </div>
            <div>
                <textarea autocomplete="off" name="handNote_desc" rows="4" data-subselect="desc" data-schema="descriptive names" placeholder="Description of hand"></textarea>
            </div>
        </div>
    </div>

    <h4>Decorations &amp; Illustrations</h4>
    <div class="multiple" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > decoDesc > decoNote">
        <div class="multi-item">
            <div>
                <label>Type</label>
                <select autocomplete="off" data-subattr="type" name="decoNote_type">
                    <option value="" selected disabled></option>
                    <option value="decorative">decorative</option>
                    <option value="diagram">diagram</option>
                    <option value="doodle">doodle</option>
                    <option value="drawing">drawing</option>
                    <option value="painting">painting</option>
                    <option value="paraph">paraph</option>
                    <option value="table">table</option>
                </select>
                <label>Placement</label>
                <select autocomplete="off" data-subattr="subtype" name="decoNote_subtype" class="multiselect" multiple>
                    <option value="beginning">beginning</option>
                    <option value="cover">cover</option>
                    <option value="detached">detached</option>
                    <option value="end">end</option>
                    <option value="flyleaf">flyleaf</option>
                    <option value="guard-folio">guard folio</option>
                    <option value="inserted">inserted</option>
                    <option value="intertextual">intertextual</option>
                    <option value="marginal">marginal</option>
                    <option value="spine">spine</option>
                    <option value="title-page">title page</option>
                </select>
            </div>
            <div>
                <textarea autocomplete="off" rows="4" name="decoNote_desc" data-subselect="desc" data-schema="descriptive" placeholder="Description of decoration"></textarea>
            </div>
        </div>
    </div>

    <h4>Paratexts</h4>
    <p>For examples, see <a href="https://tst.hypotheses.org/paratexts">https://tst.hypotheses.org/paratexts</a>.</p>
    <div class="multiple" data-select="teiHeader > fileDesc > sourceDesc > msDesc > physDesc > additions > desc">
        <div class="multi-item">
            <div>
                <label>Type</label>
                <select autocomplete="off" data-subattr="type" name="addition_type" class="multiselect" multiple>
                    <optgroup label="structuring">
                        <option value="chapter-heading">chapter heading</option>
                        <option value="end-title">end title</option>
                        <option value="heading">heading</option>
                        <option value="intertitle">intertitle</option>
                        <option value="register">register (index, glossary)</option>
                        <option value="running-title">running title</option>
                        <option value="table-of-contents">table of contents</option>
                        <option value="title">title</option>
                        <option value="verse-beginning">verse beginning</option>
                    </optgroup>
                    <optgroup label="commenting">
                        <option value="correction">correction</option>
                        <option value="gloss">gloss/commentary</option>
                        <option value="commenting-note">text-related note</option>
                    </optgroup>
                    <optgroup label="documenting">
                        <option value="blessing">blessing/benediction</option>
                        <option value="completion-statement">completion statement</option>
                        <option value="dedication">dedication</option>
                        <option value="invocation">invocation</option>
                        <option value="postface">postface</option>
                        <option value="preface">preface</option>
                        <option value="satellite-stanza">satellite stanza</option>
                        <option value="seal">seal</option>
                        <option value="shelfmark">shelfmark</option>
                        <option value="stamp">stamp</option>
                        <option value="documenting-note">user-related note</option>
                    </optgroup>
                </select>
                <label>Placement</label>
                <select autocomplete="off" data-subattr="subtype" name="addition_subtype" class="multiselect" multiple>
                    <option value="beginning">beginning</option>
                    <option value="cover">cover</option>
                    <option value="detached">detached</option>
                    <option value="end">end</option>
                    <option value="flyleaf">flyleaf</option>
                    <option value="guard-folio">guard folio</option>
                    <option value="inserted">inserted</option>
                    <option value="intertextual">intertextual</option>
                    <option value="marginal">marginal</option>
                    <option value="spine">spine</option>
                    <option value="title-page">title page</option>
                </select>
            </div>
            <div>
                <textarea autocomplete="off" name="additions_desc" rows="4" class="big" data-subselect=":scope" data-schema="transcription descriptive names" placeholder="Marginalia, running titles, satellite stanzas, etc."></textarea>
            </div>
        </div>
    </div>

    <h3>Contents</h3>
    <div class="multiple" data-select="teiHeader > fileDesc > sourceDesc > msDesc > msContents > msItem">
        <div class="multi-item">
            <div>
                <div>
                    <label title="As defined in the 'Foliation' section.">Codicological unit(s)</label>
                    <select autocomplete="off" data-subattr="n" data-from="foliation_n" class="multiselect" multiple></select>
                </div>
                <div>
                <label title="A unique identifier. No spaces.">Text ID</label>
                <input autocomplete="off" type="text" name="text_id" data-subattr="xml:id" placeholder="T1" pattern="[^\s]+" data-tip="A unique identifier. No spaces.">
                </div>
                <select autocomplete="off" data-subattr="defective" style="flex-grow: 0.5" required>
                    <option value="false">complete</option>
                    <option value="true">incomplete</option>
                </select>
            </div>
            <div>
                <label>Title</label>
                <input autocomplete="off" type="text" name="text_title" data-subselect="title" placeholder="title of text" required>
            </div>
            <div>
                <label>Author</label>
                <input autocomplete="off" type="text" data-subselect="author" placeholder="author of text">
            </div>
            <div>
                <label>Main language</label>
                <select autocomplete="off" data-subselect="textLang" data-subattr="mainLang">
                    <option value="" selected disabled></option>
                    <option value="eng">English</option>
                    <option value="fra">French</option>
                    <option value="deu">German</option>
                    <option value="pal">Pali</option>
                    <option value="por">Portuguese</option>
                    <option value="pra">Prakrit</option>
                    <option value="san">Sanskrit</option>
                    <option value="tam">Tamil</option>
                </select>
                <label>Other languages</label>
                <select autocomplete="off" class="multiselect" name="msItem_otherLangs" data-subselect="textLang" data-subattr="otherLangs" multiple>
                    <option value="eng">English</option>
                    <option value="fra">French</option>
                    <option value="deu">German</option>
                    <option value="pal">Pali</option>
                    <option value="por">Portuguese</option>
                    <option value="pra">Prakrit</option>
                    <option value="san">Sanskrit</option>
                    <option value="tam">Tamil</option>
                </select>
            </div>
            <div>
                <label>Other manuscript testimonies</label>
                <textarea autocomplete="off" rows="3" name="filiation" data-subselect="filiation > p" data-schema="descriptive names" placeholder="Other manuscripts containing this text"></textarea>
            </div>
            <div>
                <label>Rubric</label>
                <div class="multiple w89" data-subselect="rubric">
                    <div class="multi-item">
                        <textarea autocomplete="off" name="msItem_rubric" rows="4" class="big" data-schema="transcription" data-subselect=":scope"></textarea>
                    </div>
                </div>
                <!--textarea autocomplete="off" name="msItem_rubric" rows="4" class="big" data-schema="transcription" data-subselect="rubric"></textarea-->
            </div>
            <div>
                <label>Incipit</label>
                <div class="multiple w89" data-subselect="incipit">
                    <div class="multi-item">
                        <textarea autocomplete="off" rows="4" name="msItem_incipit" class="big" data-schema="transcription" data-subselect=":scope"></textarea>
                    </div>
                </div>
            </div>
            <div>
                <label>Explicit</label>
                <div class="multiple w89" data-subselect="explicit">
                    <div class="multi-item">
                        <textarea autocomplete="off" rows="4" name="msItem_explicit" class="big" data-schema="transcription" data-subselect=":scope"></textarea>
                    </div>
                </div>
            </div>
            <div>
                <label title="TEI finalRubric">Completion statement</label>
                <div class="multiple w89" data-subselect="finalRubric">
                    <div class="multi-item">
                        <textarea autocomplete="off" rows="4" name="msItem_completion_statement" class="big" data-schema="transcription" data-subselect=":scope"></textarea>
                    </div>
                </div>
            </div>
            <div>
                <label>Colophon</label>
                <div class="multiple w89" data-subselect="colophon">
                    <div class="multi-item">
                        <textarea autocomplete="off" rows="4" class="big" name="msItem_colophon" data-schema="transcription" data-subselect=":scope"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <h4>Import part/volume</h4>
    <div class="multiple file" data-select="teiHeader > fileDesc > sourceDesc > msDesc > msPart">
        <div class="multi-item">
            <textarea autocomplete="off" type="text" name="msPart" class="noCodeMirror nosanitize" data-subselect=":scope" hidden readonly></textarea>
            <div class="msPart_cote" data-fixed-select="msIdentifier > idno[type='cote']"></div>
            <div class="msPart_head" data-fixed-select="head"></div>
            <div class="msPart_cunit" data-fixed-name="foliation_n" data-fixed-multiselect="foliation" data-fixed-attr="n" style="display: none"></div>
            <div class="msPart_tunit" data-fixed-name="text_id" data-fixed-multiselect="msItem" data-fixed-attr="xml:id" style="display: none"></div>

            <input class="hd_msPart" name="msPart_file" autocomplete="off" type="file" name="msPart" accept=".xml">
        </div>
    </div>

    <h3>History</h3>
    <div>
        <div>
            <input autocomplete="off" type="text" step="any" name="calendar" data-select="teiHeader > fileDesc > sourceDesc > msDesc > history > origin > origDate" data-attr="calendar" hidden readonly value="gregorian">
            <label for="hd_origDate_when">Date</label>
            <input autocomplete="off" type="number" step="any" min="0" id="hd_origDate_when" name="origDate_when" data-select="teiHeader > fileDesc > sourceDesc > msDesc > history > origin > origDate" data-attr="when" data-tip="Year in the Gregorian calendar.">
        </div>
        <div>
            <label for="hd_origDate_notBefore">Not before</label>
            <input autocomplete="off" type="number" step="any" min="0" id="hd_origDate_notBefore" name="origDate_notBefore" data-select="teiHeader > fileDesc > sourceDesc > msDesc > history > origin > origDate" data-attr="notBefore">
        </div>
        <div>
            <label for="hd_origDate_notAfter">Not after</label>
            <input autocomplete="off" type="number" step="any" min="0" id="hd_origDate_notAfter" name="origDate_notAfter" data-select="teiHeader > fileDesc > sourceDesc > msDesc > history > origin > origDate" data-attr="notAfter">
        </div>
    </div>
    <div>
        <textarea autocomplete="off" rows="3" name="origDate" data-select="teiHeader > fileDesc > sourceDesc > msDesc > history > origin > origDate" data-schema="descriptive names" placeholder="Description of date, dating source/methodology, etc."></textarea>
    </div>
    <div>
        <label for="hd_origPlace">Place of origin</label>
        <input autocomplete="off" type="text" rows="1" id="hd_origPlace" name="origPlace" data-select="teiHeader > fileDesc > sourceDesc > msDesc > history > origin > origPlace" placeholder="Tamilnadu">
    </div>
    <div>
        <label for="hd_provenance">Provenance</label>
        <textarea autocomplete="off" rows="3" id="hd_provenance" name="provenance" data-select="teiHeader > fileDesc > sourceDesc > msDesc > history > provenance" data-schema="descriptive names" placeholder="History of the object between creation and acquisition"></textarea>
    </div>
    <div>
        <label for="hd_acquisition">Acquisition</label>
        <textarea autocomplete="off" rows="3" id="hd_acquisition" name="acquisition" data-select="teiHeader > fileDesc > sourceDesc > msDesc > history > acquisition" data-schema="descriptive names" placeholder="How the item was acquired by the repository"></textarea>
    </div>
    
    <h3>Bibliography</h3>
    <div class="multiple" data-select="teiHeader > fileDesc > sourceDesc > msDesc > additional > listBibl > bibl">
        <div class="multi-item">
            <div>
                <textarea autocomplete="off" rows="3" data-subselect=":scope" data-schema="descriptive" name="bibliography"></textarea>
            </div>
        </div>
    </div>
    
    <h3>Encoding</h3>
    <div class="multiple" data-select="teiHeader > encodingDesc > p">
        <div class="multi-item">
            <div>
            <textarea autocomplete="off" rows="6" name="encoding" data-subselect=":scope" data-schema="descriptive" placeholder="Transcription conventions, abbreviations, etc." required></textarea>
            </div>
        </div>
    </div>

    <h3>Revision history</h3>
    <div class="multiple" data-select="teiHeader > revisionDesc > change">
        <div class="multi-item">
            <div>
                <input autocomplete="off" type="month" step="any" data-subattr="when" size="8" placeholder="YYYY-MM" pattern="\d{4}-\d{2}">
                <textarea autocomplete="off" rows="4" name="change" data-subselect=":scope" data-schema="names" placeholder="summary of changes"></textarea>
            </div>
        </div>
    </div>
</section>

<section>
    <h3>Text transcription</h3>
    <div class="multiple" data-select="text">
        <div class="multi-item">
            <div>
                <div>
                    <label title="As defined in the 'Foliation' section.">Codicological unit(s)</label>
                    <select autocomplete="off" class="multiselect" data-subattr="n" name="transcr_n" data-from="foliation_n" multiple></select>
                </div>
                <div>
                    <label title="As defined in the 'Contents' section">Textual unit</label>
                    <select autocomplete="off" data-subattr="corresp" name="text_corresp" data-from="text_id" data-prefix="#"></select>
                </div>
            </div>
            <div>
            <textarea autocomplete="off" rows="10" name="text" data-subselect=":scope" data-schema="transcription" placeholder="text transcription"></textarea>
            </div>
        </div>
    </div>
</section>
</article>

<article id="footer">
    <div id="footermessage"></div>
    <div class="buttoncontainer row">
        <button type="button" id="updateheader">preview</button>
        <button type="button" id="cancelheader">cancel</button>
    </div>
</article>

</div><!-- .record-fat -->
</div><!-- #headereditor -->

<form id="openform">
    <div>
        <div id="newfile">new file</div>
        <div>open file:
            <input autocomplete="off" type="file" id="file" name="file" accept=".xml"/>
        </div>
        <div id="autosavebox">
            <hr>
            <h4>Autosaved in your browser</h4>
        </div>
    </div>
</form>
</body>
</html>
